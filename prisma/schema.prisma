datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Account {
  id Int@default(autoincrement()) @id
  email String @unique
  name String
  password String
  cpf String @unique
  balance Decimal@default(0)
}

model Transactions {
  id BigInt @id @default(autoincrement())
  accountId Int
  type TransactionType
  value Decimal
  date DateTime
  senderId BigInt?
  sender Transactions? @relation("transferParticipants", fields: [senderId], references: [id])
  receiver Transactions? @relation("transferParticipants")
}

enum TransactionType {
  DEPOSIT
  WITHDRAWN
  TRANSFER
}