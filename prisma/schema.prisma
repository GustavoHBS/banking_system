datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model account {
  id Int@default(autoincrement()) @id
  email String @unique
  name String
  password String
  cpf String @unique @db.VarChar(11)
  balance Decimal@default(0)
}

model transactions {
  id BigInt @id @default(autoincrement())
  accountId Int
  type transactionType
  value Decimal
  date DateTime
  senderId BigInt?
  sender transactions? @relation("transferParticipants", fields: [senderId], references: [id])
  receiver transactions? @relation("transferParticipants")
}

enum transactionType {
  DEPOSIT
  WITHDRAWN
  TRANSFER
}